--------------------------------------------------------
--  Fichier créé - dimanche-janvier-08-2017   
--------------------------------------------------------
DROP TABLE "EXA7"."ACHIEVEMENT" cascade constraints;
DROP TABLE "EXA7"."FAIT" cascade constraints;
DROP TABLE "EXA7"."HISTORIQUE" cascade constraints;
DROP TABLE "EXA7"."JOUEUR" cascade constraints;
DROP SEQUENCE "EXA7"."ACHIEV_SEQ";
DROP SEQUENCE "EXA7"."HISTO_SEQ";
DROP SEQUENCE "EXA7"."JOUEUR_SEQ";
DROP FUNCTION "EXA7"."LAST_INSERTED_ROWID";
DROP FUNCTION "EXA7"."SOLDE";
DROP PACKAGE "EXA7"."LAST_INSERTED_ID";
--------------------------------------------------------
--  DDL for Sequence ACHIEV_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "EXA7"."ACHIEV_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence HISTO_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "EXA7"."HISTO_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence JOUEUR_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "EXA7"."JOUEUR_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table ACHIEVEMENT
--------------------------------------------------------

  CREATE TABLE "EXA7"."ACHIEVEMENT" 
   (	"ID" NUMBER(*,0), 
	"TITRE" VARCHAR2(256 BYTE), 
	"NOM" VARCHAR2(256 BYTE), 
	"DESCRIPTION" VARCHAR2(512 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FAIT
--------------------------------------------------------

  CREATE TABLE "EXA7"."FAIT" 
   (	"ID_JOUEUR" NUMBER(*,0), 
	"ID_ACHIEVEMENT" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table HISTORIQUE
--------------------------------------------------------

  CREATE TABLE "EXA7"."HISTORIQUE" 
   (	"ID" NUMBER(*,0), 
	"DATE_PARTIE" DATE, 
	"SCORE_GAGNANT" NUMBER(*,0), 
	"SCORE_PERDANT" NUMBER(*,0), 
	"EST_FORFAIT" NUMBER(1,0), 
	"ID_GAGNANT" NUMBER(*,0), 
	"ID_PERDANT" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JOUEUR
--------------------------------------------------------

  CREATE TABLE "EXA7"."JOUEUR" 
   (	"ID" NUMBER(*,0), 
	"PSEUDO" VARCHAR2(64 BYTE), 
	"MDP" VARCHAR2(256 BYTE), 
	"EMAIL" VARCHAR2(64 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into EXA7.ACHIEVEMENT
SET DEFINE OFF;
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('1','ACV_FIRST_WIN','Il faut une première fois à tout','Gagner votre première partie contre un adversaire humain.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('4','ACV_PERFECT','Le fruit de la compétence','Gagner une partie en n''ayant perdu aucune bille.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('5','ACV_SIX_FIVE','In Extremis','Gagner une partie avec un score de 6 - 5.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('2','ACV_TEN_WIN','La chance du débutant ?','Gagner 10 parties contre un adversaire humain.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('3','ACV_HUNDRER_WIN','Excusez du peu...','Gagner 100 parties contre un adversaire humain.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('6','ACV_SURRENDER','Trouillard !','Gagner une partie par abandon.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('7','ACV_COMBO_2','Combo !','Prendre deux billes à la suite.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('8','ACV_COMBO_3','Combo x3 !','Prendre trois billes à la suite.');
Insert into EXA7.ACHIEVEMENT (ID,TITRE,NOM,DESCRIPTION) values ('9','ACV_COMBO_4','Combo x4 !','Prendre quatre billes à la suite.');
REM INSERTING into EXA7.FAIT
SET DEFINE OFF;
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','1');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','2');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','4');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','6');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','7');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','8');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('25','9');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','1');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','2');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','4');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','6');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','7');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','8');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('26','9');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','1');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','2');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','4');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','5');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','6');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','7');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','8');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('28','9');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','1');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','4');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','6');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','7');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','8');
Insert into EXA7.FAIT (ID_JOUEUR,ID_ACHIEVEMENT) values ('29','9');
REM INSERTING into EXA7.HISTORIQUE
SET DEFINE OFF;
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('22',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('34',to_date('04/01/17','DD/MM/RR'),'0','0','1','26','29');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('35',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('47',to_date('08/01/17','DD/MM/RR'),'6','0','0','26','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('1',to_date('27/12/16','DD/MM/RR'),'6','0','0','28','29');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('2',to_date('27/12/16','DD/MM/RR'),'6','4','0','29','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('3',to_date('27/12/16','DD/MM/RR'),'4','5','1','28','29');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('4',to_date('27/12/16','DD/MM/RR'),'6','5','0','28','29');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('5',to_date('27/12/16','DD/MM/RR'),'6','4','0','29','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('6',to_date('27/12/16','DD/MM/RR'),'6','3','0','29','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('7',to_date('27/12/16','DD/MM/RR'),'3','0','1','28','29');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('8',to_date('27/12/16','DD/MM/RR'),'6','5','0','29','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('29',to_date('04/01/17','DD/MM/RR'),'0','0','1','28','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('30',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('32',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('44',to_date('08/01/17','DD/MM/RR'),'6','2','0','25','26');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('23',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('33',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('24',to_date('04/01/17','DD/MM/RR'),'0','0','1','28','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('25',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('28',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('45',to_date('08/01/17','DD/MM/RR'),'0','0','1','26','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('46',to_date('08/01/17','DD/MM/RR'),'6','0','0','26','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('21',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('26',to_date('04/01/17','DD/MM/RR'),'0','0','1','28','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('27',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('31',to_date('04/01/17','DD/MM/RR'),'0','0','1','25','28');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('41',to_date('08/01/17','DD/MM/RR'),'0','0','1','25','26');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('42',to_date('08/01/17','DD/MM/RR'),'6','2','0','26','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('43',to_date('08/01/17','DD/MM/RR'),'6','2','0','25','26');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('48',to_date('08/01/17','DD/MM/RR'),'6','0','0','25','26');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('49',to_date('08/01/17','DD/MM/RR'),'0','0','1','26','25');
Insert into EXA7.HISTORIQUE (ID,DATE_PARTIE,SCORE_GAGNANT,SCORE_PERDANT,EST_FORFAIT,ID_GAGNANT,ID_PERDANT) values ('50',to_date('08/01/17','DD/MM/RR'),'0','0','1','25','26');
REM INSERTING into EXA7.JOUEUR
SET DEFINE OFF;
Insert into EXA7.JOUEUR (ID,PSEUDO,MDP,EMAIL) values ('25','Xavier','cc64d7685f3a4a6acf94e8e64a8707b65e63e5ba7554513f0edcc4968149d305','xavier.dervaux@outlook.be');
Insert into EXA7.JOUEUR (ID,PSEUDO,MDP,EMAIL) values ('26','Andy','ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f','andy.bianco@hotmail.be');
Insert into EXA7.JOUEUR (ID,PSEUDO,MDP,EMAIL) values ('28','Test1','ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f','test1@test.com');
Insert into EXA7.JOUEUR (ID,PSEUDO,MDP,EMAIL) values ('29','Test2','ef797c8118f02dfb649607dd5d3f8c7623048c9c063d532cc95c5ed7a898a64f','test2@test.com');
Insert into EXA7.JOUEUR (ID,PSEUDO,MDP,EMAIL) values ('30','Michel','15e2b0d3c33891ebb0f1ef609ec419420c20e320ce94c65fbc8c3312448eb225','michel@hotmail.com');
--------------------------------------------------------
--  DDL for Index PK_ACHIEVEMENT
--------------------------------------------------------

  CREATE UNIQUE INDEX "EXA7"."PK_ACHIEVEMENT" ON "EXA7"."ACHIEVEMENT" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_FAIT
--------------------------------------------------------

  CREATE UNIQUE INDEX "EXA7"."PK_FAIT" ON "EXA7"."FAIT" ("ID_JOUEUR", "ID_ACHIEVEMENT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JOUEUR
--------------------------------------------------------

  CREATE UNIQUE INDEX "EXA7"."PK_JOUEUR" ON "EXA7"."JOUEUR" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_HISTORIQUE
--------------------------------------------------------

  CREATE UNIQUE INDEX "EXA7"."PK_HISTORIQUE" ON "EXA7"."HISTORIQUE" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table FAIT
--------------------------------------------------------

  ALTER TABLE "EXA7"."FAIT" ADD CONSTRAINT "PK_FAIT" PRIMARY KEY ("ID_JOUEUR", "ID_ACHIEVEMENT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "EXA7"."FAIT" MODIFY ("ID_ACHIEVEMENT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."FAIT" MODIFY ("ID_JOUEUR" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table JOUEUR
--------------------------------------------------------

  ALTER TABLE "EXA7"."JOUEUR" ADD CONSTRAINT "PK_JOUEUR" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "EXA7"."JOUEUR" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."JOUEUR" MODIFY ("MDP" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."JOUEUR" MODIFY ("PSEUDO" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."JOUEUR" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table ACHIEVEMENT
--------------------------------------------------------

  ALTER TABLE "EXA7"."ACHIEVEMENT" ADD CONSTRAINT "PK_ACHIEVEMENT" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "EXA7"."ACHIEVEMENT" MODIFY ("DESCRIPTION" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."ACHIEVEMENT" MODIFY ("NOM" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."ACHIEVEMENT" MODIFY ("TITRE" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."ACHIEVEMENT" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table HISTORIQUE
--------------------------------------------------------

  ALTER TABLE "EXA7"."HISTORIQUE" ADD CONSTRAINT "PK_HISTORIQUE" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("ID_PERDANT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("ID_GAGNANT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("EST_FORFAIT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("SCORE_PERDANT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("SCORE_GAGNANT" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("DATE_PARTIE" NOT NULL ENABLE);
  ALTER TABLE "EXA7"."HISTORIQUE" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table FAIT
--------------------------------------------------------

  ALTER TABLE "EXA7"."FAIT" ADD CONSTRAINT "FK_FAIT_ACHIEVEMENT" FOREIGN KEY ("ID_ACHIEVEMENT")
	  REFERENCES "EXA7"."ACHIEVEMENT" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "EXA7"."FAIT" ADD CONSTRAINT "FK_FAIT_JOUEUR" FOREIGN KEY ("ID_JOUEUR")
	  REFERENCES "EXA7"."JOUEUR" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table HISTORIQUE
--------------------------------------------------------

  ALTER TABLE "EXA7"."HISTORIQUE" ADD CONSTRAINT "FK_HISTO_GAGNANT" FOREIGN KEY ("ID_GAGNANT")
	  REFERENCES "EXA7"."JOUEUR" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "EXA7"."HISTORIQUE" ADD CONSTRAINT "FK_HISTO_PERDANT" FOREIGN KEY ("ID_PERDANT")
	  REFERENCES "EXA7"."JOUEUR" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  DDL for Trigger ACHIEV_BIR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "EXA7"."ACHIEV_BIR" 
BEFORE INSERT ON achievement
FOR EACH ROW
BEGIN
  SELECT achiev_seq.NEXTVAL
  INTO   :new.id
  FROM   dual;
  last_inserted_id.lastId := :new.id; --On stocke l'id créé dans le package
END;
/
ALTER TRIGGER "EXA7"."ACHIEV_BIR" ENABLE;
--------------------------------------------------------
--  DDL for Trigger HISTORIQUE_BIR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "EXA7"."HISTORIQUE_BIR" 
BEFORE INSERT ON historique 
FOR EACH ROW
BEGIN
  SELECT histo_seq.NEXTVAL
  INTO   :new.id
  FROM   dual;
  last_inserted_id.lastId := :new.id; --On stocke l'id créé dans le package
END;
/
ALTER TRIGGER "EXA7"."HISTORIQUE_BIR" ENABLE;
--------------------------------------------------------
--  DDL for Trigger JOUEUR_BIR
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "EXA7"."JOUEUR_BIR" 
BEFORE INSERT ON joueur 
FOR EACH ROW
BEGIN
  SELECT joueur_seq.NEXTVAL
  INTO   :new.id
  FROM   dual;
  last_inserted_id.lastId := :new.id; --On stocke l'id créé dans le package
END;
/
ALTER TRIGGER "EXA7"."JOUEUR_BIR" ENABLE;
--------------------------------------------------------
--  DDL for Function LAST_INSERTED_ROWID
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "EXA7"."LAST_INSERTED_ROWID" (no INTEGER)
    RETURN INTEGER IS last_rowid INTEGER;
BEGIN
    last_rowid := last_inserted_id.lastId;
    RETURN last_rowid;
END;

/
--------------------------------------------------------
--  DDL for Function SOLDE
--------------------------------------------------------

  CREATE OR REPLACE FUNCTION "EXA7"."SOLDE" (no INTEGER)
    RETURN INTEGER IS le_solde INTEGER;
BEGIN
    le_solde := last_inserted_id.lastId;
    RETURN le_solde;
END;

/
--------------------------------------------------------
--  DDL for Package LAST_INSERTED_ID
--------------------------------------------------------

  CREATE OR REPLACE PACKAGE "EXA7"."LAST_INSERTED_ID" IS
  lastId INTEGER;
END;

/
